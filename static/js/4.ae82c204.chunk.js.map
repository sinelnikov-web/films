{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","Components/Header/Header.tsx","Components/MainContainer/MainContainer.tsx","assets/images/star.png","Components/LazyImage/LazyImage.module.css","hooks/use-on-screen.ts","Components/LazyImage/LazyImage.tsx","assets/images/default.png","Components/FilmList/FilmCard/FilmCard.tsx","utils/range.js","Components/FilmList/Pagination/Pagination.tsx","Components/FilmList/FilmList.tsx"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","Header","children","title","className","MainContainer","module","exports","useOnScreen","ref","rootMargin","useState","isIntersecting","setIntersecting","useEffect","observer","IntersectionObserver","entry","current","observe","unobserve","LazyImage","React","memo","src","alt","onLoad","isLoaded","setIsLoaded","source","setSource","imageRef","useRef","containerRef","isVisible","styles","container","containerLoaded","onError","image","imageLoaded","FilmCard","rating","lang","year","filmId","currentPage","genres","showInfo","setShowInfo","filmLinkRef","tabIndex","onClick","console","log","onFocus","onMouseOver","onMouseLeave","star","filter","g","join","onBlur","document","activeElement","to","range","from","step","Pagination","totalCount","setCurrentPage","pageNeighbours","LEFT_PAGE","RIGHT_PAGE","pagesCount","Math","ceil","totalNumbers","max","min","totalBlocks","pagesNumbers","pages","startPage","endPage","hasLeftSpill","hasRightSpill","spillOffset","extraPages","map","page","index","FilmList","data","useSelector","state","filmList","films","results","dispatch","useDispatch","getGenres","getFilms","total_results","isFetching","Loader","film","poster_path","vote_average","original_language","release_date","id","genre","genre_ids","includes","name"],"mappings":"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","file":"static/js/4.ae82c204.chunk.js","sourcesContent":["import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React from \"react\";\r\n\r\ninterface HeaderProps {\r\n    children: React.ReactNode\r\n    title?: string\r\n}\r\n\r\nconst Header: React.FC<HeaderProps> = ({children, title}) => {\r\n    return (\r\n        <header className=\"header\">\r\n            <div className=\"container\">\r\n                <div className=\"header-wrapper\">\r\n                    <span className=\"logo\">{title ? title: 'Movies'}</span>\r\n                    {children}\r\n                </div>\r\n            </div>\r\n        </header>\r\n    );\r\n};\r\n\r\nexport default Header;","import React from \"react\";\r\n\r\ninterface MainContainerProps {\r\n    children: React.ReactNode\r\n}\r\n\r\nconst MainContainer: React.FC<MainContainerProps> = ({children}) => {\r\n    return (\r\n        <main className=\"main\">\r\n            <div className=\"container\">\r\n                {children}\r\n            </div>\r\n        </main>\r\n    );\r\n};\r\n\r\nexport default MainContainer;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAQlBMVEUAAAAom+spne0pne4pne0om+slmu0one4pnu4om+sgn+8pne8one0pnuwonewpnOspnu4onOwpnO0onu8wn+8pne2iWeZ9AAAAFXRSTlMAQO/foIAwIL9wEG9Qz2CQz7+vXxBAkOc4AAAAuklEQVQ4y32T2Q7FIAhEcddql7vw/7/aphjTYOE8OmZGyAiMaEBlQ6yg4RCtbnChhWS8yLKeEHULTxd22YCwi/xEIogzEtOkSzJbDT7jIPtQm4l3VHWocFSwqGJhRRUHyal6Avgfsv6hjeyS7qETmDDvq7zpBR40O81nSBFT9qkqDF6bOYK1HSciPCnyEMRX3hKxjmOPHffWxtUARIfEs5mNHt5jC11pfE1+GYaeV9fc7gPK+em/vvWTE4+VJqxMOx7AAAAAAElFTkSuQmCC\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"LazyImage_container__28VzP\",\"load\":\"LazyImage_load__3pkzz\",\"containerLoaded\":\"LazyImage_containerLoaded__1Q2ys\",\"image\":\"LazyImage_image__nNiNl\",\"imageLoaded\":\"LazyImage_imageLoaded__d9jAv\"};","import React, {useEffect, useState} from \"react\";\r\n\r\n\r\nfunction useOnScreen(ref:React.MutableRefObject<HTMLDivElement | null>, rootMargin = \"0px\") {\r\n    // State and setter for storing whether element is visible\r\n    const [isIntersecting, setIntersecting] = useState(false);\r\n    useEffect(() => {\r\n        const observer = new IntersectionObserver(\r\n            ([entry]) => {\r\n                // Update our state when observer callback fires\r\n                setIntersecting(entry.isIntersecting);\r\n            },\r\n            {\r\n                rootMargin,\r\n            }\r\n        );\r\n        if (ref.current) {\r\n            observer.observe(ref.current);\r\n        }\r\n        return () => {\r\n            if (ref.current) {\r\n                observer.unobserve(ref.current);\r\n            }\r\n        };\r\n    }, []); // Empty array ensures that effect is only run on mount and unmount\r\n    return isIntersecting;\r\n}\r\n\r\nexport default useOnScreen","import React, {useRef, useState} from 'react';\r\nimport styles from './LazyImage.module.css'\r\nimport useOnScreen from \"../../hooks/use-on-screen\";\r\nimport defaultImage from \"../../assets/images/default.png\"\r\n\r\ninterface LazyImageProps {\r\n    src: string,\r\n    alt: string,\r\n    onLoad?: Function,\r\n}\r\n\r\nconst LazyImage: React.FC<LazyImageProps> = React.memo(({src, alt='', onLoad=() => {}}) => {\r\n\r\n    const [isLoaded, setIsLoaded] = useState(false)\r\n    const [source, setSource] = useState(src)\r\n\r\n    const imageRef = useRef(null)\r\n    const containerRef = useRef(null)\r\n    const isVisible = useOnScreen(containerRef)\r\n\r\n    const onError = () => {\r\n        setSource(defaultImage)\r\n    }\r\n\r\n    return (\r\n        <div ref={containerRef} className={styles.container + (isLoaded ? ` ${styles.containerLoaded}` : '')}>\r\n            {(isVisible || isLoaded) && <img\r\n                ref={imageRef}\r\n                onError={onError}\r\n                onLoad={() => isVisible ? setIsLoaded(true) : null}\r\n                className={styles.image + (isLoaded ? ` ${styles.imageLoaded}` : '')}\r\n                src={source}\r\n                alt={alt}\r\n            />}\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default LazyImage;","export default \"data:image/png;base64,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\"","import React, {useRef, useState} from 'react';\r\nimport star from '../../../assets/images/star.png'\r\nimport LazyImage from \"../../LazyImage/LazyImage\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\ninterface FilmCardProps {\r\n    src: string\r\n    rating: number\r\n    lang: string\r\n    title: string\r\n    year: string\r\n    filmId: number\r\n    currentPage: number\r\n    genres: Array<string>\r\n}\r\n\r\nconst FilmCard: React.FC<FilmCardProps> = ({src, title, lang, rating, year, filmId, currentPage, genres}) => {\r\n\r\n    const [showInfo, setShowInfo] = useState(false)\r\n\r\n    const onMouseOver = () => {\r\n        setShowInfo(true)\r\n    }\r\n\r\n    const onMouseLeave = () => {\r\n        setShowInfo(false)\r\n    }\r\n\r\n    const onFocus = () => {\r\n        setShowInfo(true)\r\n    }\r\n\r\n    let filmLinkRef = useRef(null)\r\n\r\n    const onBlur = () => {\r\n        if (document.activeElement !== filmLinkRef.current) {\r\n            setShowInfo(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div tabIndex={0} onClick={() => console.log('gfdg')} onFocus={onFocus} onMouseOver={onMouseOver} onMouseLeave={onMouseLeave} className=\"film-card\">\r\n            <div className=\"film-card__main\">\r\n                <LazyImage src={'https://image.tmdb.org/t/p/w500' + src} alt={title}/>\r\n                <div className={\"films-card__info\" + (showInfo ? ' show' : '')}>\r\n                    <div className=\"film-card__rating\">\r\n                        <img className=\"star\" src={star} alt=\"\"/>\r\n                        <span className=\"rating\">{rating}</span>\r\n                    </div>\r\n                    <span className=\"film-card__lang\">{genres.filter(g => g ? g : false).join(', ')}</span>\r\n                    <Link onBlur={onBlur} ref={filmLinkRef} tabIndex={0} to={`/films/${currentPage}/${filmId}`} className=\"film-card__button\">More</Link>\r\n                </div>\r\n            </div>\r\n            <div className=\"film-card__footer\">\r\n                <h2 className=\"film-card__title\">{title}</h2>\r\n                <span className=\"film-card__year\">{year}</span>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FilmCard;","\r\n\r\nexport const range = (from, to, step = 1) => {\r\n    let i = from;\r\n    const range = [];\r\n\r\n    while (i <= to) {\r\n        range.push(i);\r\n        i += step;\r\n    }\r\n\r\n    return range;\r\n}","import React from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport {range} from \"../../../utils/range\";\r\n\r\ninterface PaginationProps {\r\n    totalCount: number | null,\r\n    currentPage: number,\r\n    setCurrentPage: Function,\r\n    pageNeighbours: number\r\n}\r\n\r\nconst Pagination: React.FC<PaginationProps> = ({totalCount, currentPage, setCurrentPage, pageNeighbours}) => {\r\n\r\n    const LEFT_PAGE = 'LEFT';\r\n    const RIGHT_PAGE = 'RIGHT';\r\n\r\n    let pagesCount = totalCount ? Math.ceil(totalCount / 20) : 0\r\n\r\n    let neighbours = Math.max(0, Math.min(pageNeighbours, 2))\r\n    const totalNumbers = (neighbours * 2) + 3;\r\n    const totalBlocks = totalNumbers + 2;\r\n    let pagesNumbers = range(1, pagesCount)\r\n    let pages: any = []\r\n    if (pagesCount > totalBlocks) {\r\n        const startPage = Math.max(2, currentPage - pageNeighbours)\r\n        const endPage = Math.min(pagesCount - 1, currentPage + pageNeighbours)\r\n        pages = range(startPage, endPage)\r\n        const hasLeftSpill = startPage > 2\r\n        const hasRightSpill = (pagesCount - endPage) > 1\r\n        const spillOffset = totalNumbers - (pages.length + 1)\r\n        switch (true) {\r\n            // handle: (1) < {5 6} [7] {8 9} (10)\r\n            case (hasLeftSpill && !hasRightSpill): {\r\n                const extraPages = range(startPage - spillOffset, startPage - 1)\r\n                pages = [LEFT_PAGE, ...extraPages, ...pages]\r\n                break\r\n            }\r\n\r\n            // handle: (1) {2 3} [4] {5 6} > (10)\r\n            case (!hasLeftSpill && hasRightSpill): {\r\n                const extraPages = range(endPage + 1, endPage + spillOffset)\r\n                pages = [...pages, ...extraPages, RIGHT_PAGE]\r\n                break\r\n            }\r\n\r\n            // handle: (1) < {4 5} [6] {7 8} > (10)\r\n            case (hasLeftSpill && hasRightSpill):\r\n            default: {\r\n                pages = [LEFT_PAGE, ...pages, RIGHT_PAGE]\r\n                break\r\n            }\r\n        }\r\n        pagesNumbers = [1, ...pages, pagesCount]\r\n    }\r\n\r\n    return (\r\n        <div className=\"pagination\">\r\n            <ul className=\"pagination__list\">\r\n                {pagesNumbers.map((page: string | number, index: number) => {\r\n                    if (page === LEFT_PAGE) return '...';\r\n                    if (page === RIGHT_PAGE) return '...'\r\n                    return (\r\n                        <li key={index} onClick={() => setCurrentPage(page)}\r\n                            className={\"pagination__item\" + (currentPage === page ? ' selected' : '')}>\r\n                            <Link to={'/films'} className=\"pagination__link\">\r\n                                {page}\r\n                            </Link>\r\n                        </li>\r\n                    );\r\n                })}\r\n            </ul>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Pagination","import Header from \"../Header/Header\";\r\nimport MainContainer from \"../MainContainer/MainContainer\";\r\nimport FilmCard from \"./FilmCard/FilmCard\";\r\nimport {useEffect, useState} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getFilms, getGenres} from \"../../redux/film-list-reducer\";\r\nimport {AppStateType} from \"../../redux/store\";\r\nimport Pagination from \"./Pagination/Pagination\";\r\nimport Loader from \"../Loader/Loader\";\r\n\r\nconst FilmList = () => {\r\n\r\n    const data = useSelector((state: AppStateType) => state.filmList)\r\n\r\n    const films = data.results\r\n\r\n    const [currentPage, setCurrentPage] = useState(1)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        dispatch(getGenres())\r\n        dispatch(getFilms(currentPage))\r\n    }, [currentPage])\r\n\r\n    return (\r\n        <div>\r\n            <Header>\r\n                <nav className=\"nav\">\r\n                    <Pagination\r\n                        totalCount={data.total_results}\r\n                        currentPage={currentPage}\r\n                        setCurrentPage={setCurrentPage}\r\n                        pageNeighbours={1}\r\n                    />\r\n                </nav>\r\n            </Header>\r\n            <MainContainer>\r\n                {data.isFetching && data.genres.length !== 0 ?\r\n                    <Loader/>\r\n                    :\r\n                    <div className=\"films-container\">\r\n                        {films.map(film => {\r\n                            return (\r\n                                <FilmCard\r\n                                    key={film.id}\r\n                                    src={film.poster_path}\r\n                                    rating={film.vote_average}\r\n                                    lang={film.original_language}\r\n                                    title={film.title}\r\n                                    year={film.release_date}\r\n                                    filmId={film.id}\r\n                                    currentPage={currentPage}\r\n                                    genres={data.genres.map(genre => {\r\n                                        if (film.genre_ids.includes(genre.id)) {\r\n                                            return genre.name\r\n                                        }\r\n                                        return ''\r\n                                    })}\r\n                                />\r\n                            )\r\n                        })}\r\n                    </div>\r\n                }\r\n            </MainContainer>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FilmList;"],"sourceRoot":""}