{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","Components/Header/Header.tsx","Components/MainContainer/MainContainer.tsx","assets/images/star.png","Components/LazyImage/LazyImage.module.css","hooks/use-on-screen.ts","Components/LazyImage/LazyImage.tsx","assets/images/default.png","assets/images/back.png","Components/FilmDetail/Comments/Comment/Comment.tsx","Components/FilmDetail/Comments/Comments.tsx","Components/FilmDetail/FilmDetail.tsx"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","Header","children","title","className","MainContainer","module","exports","useOnScreen","ref","rootMargin","useState","isIntersecting","setIntersecting","useEffect","observer","IntersectionObserver","entry","current","observe","unobserve","LazyImage","React","memo","src","alt","onLoad","isLoaded","setIsLoaded","source","setSource","imageRef","useRef","containerRef","isVisible","styles","container","containerLoaded","onError","image","imageLoaded","Comment","author","date","text","Comments","filmId","commentsJSON","localStorage","getItem","comments","sort","a","b","id","JSON","parse","setValue","commentsState","setCommentsState","map","comment","onSubmit","e","preventDefault","newComment","Date","now","toString","setItem","stringify","prev","onChange","target","name","cols","rows","placeholder","style","border","backImg","FilmDetail","useParams","currentPage","data","useSelector","state","filmList","film","results","filter","parseInt","dispatch","useDispatch","getGenres","getFilms","tabIndex","to","isFetching","Loader","starImg","vote_average","poster_path","release_date","genres","genre","genre_ids","includes","overview"],"mappings":"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","file":"static/js/3.7c858d58.chunk.js","sourcesContent":["import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React from \"react\";\r\n\r\ninterface HeaderProps {\r\n    children: React.ReactNode\r\n    title?: string\r\n}\r\n\r\nconst Header: React.FC<HeaderProps> = ({children, title}) => {\r\n    return (\r\n        <header className=\"header\">\r\n            <div className=\"container\">\r\n                <div className=\"header-wrapper\">\r\n                    <span className=\"logo\">{title ? title: 'Movies'}</span>\r\n                    {children}\r\n                </div>\r\n            </div>\r\n        </header>\r\n    );\r\n};\r\n\r\nexport default Header;","import React from \"react\";\r\n\r\ninterface MainContainerProps {\r\n    children: React.ReactNode\r\n}\r\n\r\nconst MainContainer: React.FC<MainContainerProps> = ({children}) => {\r\n    return (\r\n        <main className=\"main\">\r\n            <div className=\"container\">\r\n                {children}\r\n            </div>\r\n        </main>\r\n    );\r\n};\r\n\r\nexport default MainContainer;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAQlBMVEUAAAAom+spne0pne4pne0om+slmu0one4pnu4om+sgn+8pne8one0pnuwonewpnOspnu4onOwpnO0onu8wn+8pne2iWeZ9AAAAFXRSTlMAQO/foIAwIL9wEG9Qz2CQz7+vXxBAkOc4AAAAuklEQVQ4y32T2Q7FIAhEcddql7vw/7/aphjTYOE8OmZGyAiMaEBlQ6yg4RCtbnChhWS8yLKeEHULTxd22YCwi/xEIogzEtOkSzJbDT7jIPtQm4l3VHWocFSwqGJhRRUHyal6Avgfsv6hjeyS7qETmDDvq7zpBR40O81nSBFT9qkqDF6bOYK1HSciPCnyEMRX3hKxjmOPHffWxtUARIfEs5mNHt5jC11pfE1+GYaeV9fc7gPK+em/vvWTE4+VJqxMOx7AAAAAAElFTkSuQmCC\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"LazyImage_container__28VzP\",\"load\":\"LazyImage_load__3pkzz\",\"containerLoaded\":\"LazyImage_containerLoaded__1Q2ys\",\"image\":\"LazyImage_image__nNiNl\",\"imageLoaded\":\"LazyImage_imageLoaded__d9jAv\"};","import React, {useEffect, useState} from \"react\";\r\n\r\n\r\nfunction useOnScreen(ref:React.MutableRefObject<HTMLDivElement | null>, rootMargin = \"0px\") {\r\n    // State and setter for storing whether element is visible\r\n    const [isIntersecting, setIntersecting] = useState(false);\r\n    useEffect(() => {\r\n        const observer = new IntersectionObserver(\r\n            ([entry]) => {\r\n                // Update our state when observer callback fires\r\n                setIntersecting(entry.isIntersecting);\r\n            },\r\n            {\r\n                rootMargin,\r\n            }\r\n        );\r\n        if (ref.current) {\r\n            observer.observe(ref.current);\r\n        }\r\n        return () => {\r\n            if (ref.current) {\r\n                observer.unobserve(ref.current);\r\n            }\r\n        };\r\n    }, []); // Empty array ensures that effect is only run on mount and unmount\r\n    return isIntersecting;\r\n}\r\n\r\nexport default useOnScreen","import React, {useRef, useState} from 'react';\r\nimport styles from './LazyImage.module.css'\r\nimport useOnScreen from \"../../hooks/use-on-screen\";\r\nimport defaultImage from \"../../assets/images/default.png\"\r\n\r\ninterface LazyImageProps {\r\n    src: string,\r\n    alt: string,\r\n    onLoad?: Function,\r\n}\r\n\r\nconst LazyImage: React.FC<LazyImageProps> = React.memo(({src, alt='', onLoad=() => {}}) => {\r\n\r\n    const [isLoaded, setIsLoaded] = useState(false)\r\n    const [source, setSource] = useState(src)\r\n\r\n    const imageRef = useRef(null)\r\n    const containerRef = useRef(null)\r\n    const isVisible = useOnScreen(containerRef)\r\n\r\n    const onError = () => {\r\n        setSource(defaultImage)\r\n    }\r\n\r\n    return (\r\n        <div ref={containerRef} className={styles.container + (isLoaded ? ` ${styles.containerLoaded}` : '')}>\r\n            {(isVisible || isLoaded) && <img\r\n                ref={imageRef}\r\n                onError={onError}\r\n                onLoad={() => isVisible ? setIsLoaded(true) : null}\r\n                className={styles.image + (isLoaded ? ` ${styles.imageLoaded}` : '')}\r\n                src={source}\r\n                alt={alt}\r\n            />}\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default LazyImage;","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAM1BMVEUAAAD///////////////////////////////////////////////////////////////+3leKCAAAAEHRSTlMAQJ+/338g788wEJCAcF9QOBFk1wAAAHpJREFUKM+dkOEOhSAIhVUIlbp13v9p78K2SmxrfX/czjcQCN+QQmNRMBYzWEb59JijjvINSPGGNsFw0Np+BqUrlIFpN4Si4cYvm1F2W9Q2jzDmziwtESu9ImB7I0pXAhxNqxees4UnYQ3vz6qRgM20I0c7QJ/SouELf9pyBwdxoI4aAAAAAElFTkSuQmCC\"","import React from 'react';\r\n\r\ninterface CommentProps {\r\n    author: string,\r\n    date: string,\r\n    text: string\r\n}\r\n\r\nconst Comment: React.FC<CommentProps> = ({author, date, text}) => {\r\n    return (\r\n        <li className=\"comments__item\">\r\n            <div className=\"comments__item-head\">\r\n                <span className=\"comments__author\">{author} | </span>\r\n                <span className=\"comments__date\">{date}</span>\r\n            </div>\r\n            <div className=\"comments__item-text\">\r\n                {text}\r\n            </div>\r\n        </li>\r\n    );\r\n};\r\n\r\nexport default Comment;","import React, {ChangeEvent, useState} from 'react';\r\nimport Comment from \"./Comment/Comment\";\r\nimport backImg from \"../../../assets/images/back.png\"\r\n\r\ntype CommentType = {\r\n    author: string\r\n    date: string\r\n    text: string\r\n    id: number\r\n}\r\n\r\ninterface CommentsProps {\r\n    filmId: number\r\n}\r\n\r\nconst Comments:React.FC<CommentsProps> = ({filmId}) => {\r\n\r\n    let commentsJSON = localStorage.getItem(`film_comments_${filmId}`)\r\n\r\n    let comments = [] as Array<CommentType>\r\n\r\n    comments.sort((a, b) => a.id > b.id ? 1 : a.id < b.id ? -1 : 0)\r\n\r\n    if (commentsJSON){\r\n        comments = JSON.parse(localStorage.getItem(`film_comments_${filmId}`) as string) as Array<CommentType>\r\n    }\r\n\r\n    const [value, setValue] = useState('')\r\n\r\n    const [commentsState, setCommentsState] = useState(comments)\r\n\r\n    const onSubmit = (e:React.SyntheticEvent) => {\r\n        e.preventDefault()\r\n        let newComment = {\r\n            id: comments[comments.length - 1] ? comments[comments.length - 1].id + 1 : 1,\r\n            author: 'You',\r\n            date: new Date(Date.now()).toString(),\r\n            text: value\r\n        }\r\n        comments.push(newComment)\r\n        localStorage.setItem(`film_comments_${filmId}`, JSON.stringify(comments))\r\n        setCommentsState(prev => [...prev, newComment])\r\n        setValue('')\r\n    }\r\n    const onChange = (e:ChangeEvent<HTMLTextAreaElement>) => {\r\n        setValue(e.target.value)\r\n    }\r\n\r\n    return (\r\n        <div className=\"comments\">\r\n            <ul className=\"comments__list\">\r\n                {commentsState.sort((a, b) => a.id < b.id ? 1 : a.id > b.id ? -1 : 0).map(comment => {\r\n                    return(\r\n                        <Comment\r\n                            key={comment.id}\r\n                            author={comment.author}\r\n                            date={comment.date}\r\n                            text={comment.text}\r\n                        />\r\n                    )\r\n                })}\r\n            </ul>\r\n            <form onSubmit={onSubmit} className=\"comments__form\">\r\n                <div className=\"form__field\">\r\n                                <textarea onChange={onChange} value={value} className=\"comment-area\" name=\"comment-area\" cols={30} rows={10}\r\n                                          placeholder=\"Leave a comment\"/>\r\n                    <button style={{border: 'none'}} className=\"back-button\">\r\n                        <img src={backImg} alt=\"\"/>\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Comments;","import React, {useEffect} from 'react';\r\nimport Header from \"../Header/Header\";\r\nimport backImg from \"../../assets/images/back.png\"\r\nimport starImg from \"../../assets/images/star.png\"\r\nimport LazyImage from \"../LazyImage/LazyImage\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/store\";\r\nimport {useParams} from \"react-router-dom\"\r\nimport Comments from \"./Comments/Comments\";\r\nimport MainContainer from \"../MainContainer/MainContainer\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {getFilms, getGenres} from \"../../redux/film-list-reducer\";\r\nimport Loader from \"../Loader/Loader\";\r\n\r\ninterface ParamsType {\r\n    filmId: string\r\n    currentPage: string\r\n}\r\n\r\nconst FilmDetail = () => {\r\n\r\n    let {filmId, currentPage} = useParams<ParamsType>()\r\n\r\n    let data = useSelector((state:AppStateType) => state.filmList)\r\n\r\n    let film = data.results.filter(film => film.id === parseInt(filmId))\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        dispatch(getGenres())\r\n        dispatch(getFilms(parseInt(currentPage)))\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            <Header title={film[0]?.title}>\r\n                <nav className=\"nav\">\r\n                    <Link tabIndex={0} to={'/films'} className=\"back-button\">\r\n                        <img src={backImg} alt=\"\"/>\r\n                    </Link>\r\n                </nav>\r\n            </Header>\r\n            <MainContainer>\r\n                {data.isFetching || film[0] === undefined ?\r\n                    <Loader/>\r\n                    :\r\n                    <div className=\"film-block\">\r\n                        <div className=\"film__image\">\r\n                            <div className=\"film__rating\">\r\n                                <img className=\"star\" src={starImg} alt=\"\"/>\r\n                                <span className=\"rating\">{film[0].vote_average}</span>\r\n                            </div>\r\n                            <LazyImage src={'https://image.tmdb.org/t/p/w500' + film[0].poster_path} alt=\"\"/>\r\n                        </div>\r\n                        <div className=\"film__main\">\r\n                            <h1 className=\"film__title\">{film[0].title}</h1>\r\n                            <p className=\"film__year\">{film[0].release_date}</p>\r\n                            <ul className=\"film__genres-list\">\r\n                                {data.genres.map(genre => {\r\n                                        if (film[0].genre_ids.includes(genre.id)) {\r\n                                            return <li key={genre.id} className=\"film__genres-item\">{genre.name}</li>\r\n                                        }\r\n                                        return ''\r\n                                    })}\r\n                            </ul>\r\n                            <h2 className=\"film__subtitle\">Synopsis</h2>\r\n                            <p className=\"film__description\">{film[0].overview}</p>\r\n                            <h2 className=\"film__subtitle\">Comments</h2>\r\n                            <Comments filmId={parseInt(filmId)}/>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </MainContainer>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FilmDetail;"],"sourceRoot":""}