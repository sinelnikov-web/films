{"version":3,"sources":["Components/LazyImage/LazyImage.module.css","Components/Header/Header.tsx","Components/MainContainer/MainContainer.tsx","assets/images/star.png","hooks/use-on-screen.ts","Components/LazyImage/LazyImage.tsx","assets/images/default.png","Components/FilmList/FilmCard/FilmCard.tsx","api/film-list-api.ts","redux/film-list-reducer.ts","utils/range.js","Components/FilmList/Pagination/Pagination.tsx","Components/Loader/Loader.jsx","Components/FilmList/FilmList.tsx","assets/images/back.png","Components/FilmDetail/Comments/Comment/Comment.tsx","Components/FilmDetail/Comments/Comments.tsx","Components/FilmDetail/FilmDetail.tsx","App.tsx","reportWebVitals.js","redux/store.ts","index.js"],"names":["module","exports","Header","children","className","MainContainer","useOnScreen","ref","rootMargin","useState","isIntersecting","setIntersecting","useEffect","observer","IntersectionObserver","entry","current","observe","unobserve","LazyImage","React","memo","src","alt","onLoad","isLoaded","setIsLoaded","source","setSource","imageRef","useRef","containerRef","isVisible","styles","container","containerLoaded","onError","image","imageLoaded","FilmCard","title","rating","lang","year","filmId","currentPage","genres","showInfo","setShowInfo","onMouseOver","onMouseLeave","star","filter","g","join","to","APIInstance","axios","create","baseURL","filmListAPI","pageNumber","get","then","r","data","GET_FILMS_SUCCESS","GET_GENRES_SUCCESS","START_FETCHING","STOP_FETCHING","initialState","total_results","total_pages","page","results","isFetching","actions","payload","type","getFilms","dispatch","a","response","getGenres","range","from","step","i","push","Pagination","totalCount","setCurrentPage","pageNeighbours","LEFT_PAGE","RIGHT_PAGE","pagesCount","Math","ceil","totalNumbers","max","min","totalBlocks","pagesNumbers","pages","startPage","endPage","hasLeftSpill","hasRightSpill","spillOffset","length","extraPages","map","index","onClick","Loader","FilmList","useSelector","state","filmList","films","useDispatch","film","poster_path","vote_average","original_language","release_date","id","genre","genre_ids","includes","name","Comment","author","date","text","Comments","commentsJSON","localStorage","getItem","comments","sort","b","JSON","parse","value","setValue","commentsState","setCommentsState","comment","onSubmit","e","preventDefault","newComment","Date","now","toString","setItem","stringify","prev","onChange","target","cols","rows","placeholder","style","border","backImg","FilmDetail","useParams","parseInt","undefined","starImg","overview","App","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","action","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d2b82e68.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"LazyImage_container__28VzP\",\"load\":\"LazyImage_load__3pkzz\",\"containerLoaded\":\"LazyImage_containerLoaded__1Q2ys\",\"image\":\"LazyImage_image__nNiNl\",\"imageLoaded\":\"LazyImage_imageLoaded__d9jAv\"};","import React from \"react\";\r\n\r\ninterface HeaderProps {\r\n    children: React.ReactNode\r\n}\r\n\r\nconst Header: React.FC<HeaderProps> = ({children}) => {\r\n    return (\r\n        <header className=\"header\">\r\n            <div className=\"container\">\r\n                <div className=\"header-wrapper\">\r\n                    <span className=\"logo\">Movies</span>\r\n                    {children}\r\n                </div>\r\n            </div>\r\n        </header>\r\n    );\r\n};\r\n\r\nexport default Header;","import React from \"react\";\r\n\r\ninterface MainContainerProps {\r\n    children: React.ReactNode\r\n}\r\n\r\nconst MainContainer: React.FC<MainContainerProps> = ({children}) => {\r\n    return (\r\n        <main className=\"main\">\r\n            <div className=\"container\">\r\n                {children}\r\n            </div>\r\n        </main>\r\n    );\r\n};\r\n\r\nexport default MainContainer;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAQlBMVEUAAAAom+spne0pne4pne0om+slmu0one4pnu4om+sgn+8pne8one0pnuwonewpnOspnu4onOwpnO0onu8wn+8pne2iWeZ9AAAAFXRSTlMAQO/foIAwIL9wEG9Qz2CQz7+vXxBAkOc4AAAAuklEQVQ4y32T2Q7FIAhEcddql7vw/7/aphjTYOE8OmZGyAiMaEBlQ6yg4RCtbnChhWS8yLKeEHULTxd22YCwi/xEIogzEtOkSzJbDT7jIPtQm4l3VHWocFSwqGJhRRUHyal6Avgfsv6hjeyS7qETmDDvq7zpBR40O81nSBFT9qkqDF6bOYK1HSciPCnyEMRX3hKxjmOPHffWxtUARIfEs5mNHt5jC11pfE1+GYaeV9fc7gPK+em/vvWTE4+VJqxMOx7AAAAAAElFTkSuQmCC\"","import React, {useEffect, useState} from \"react\";\r\n\r\n\r\nfunction useOnScreen(ref:React.MutableRefObject<HTMLDivElement | null>, rootMargin = \"0px\") {\r\n    // State and setter for storing whether element is visible\r\n    const [isIntersecting, setIntersecting] = useState(false);\r\n    useEffect(() => {\r\n        const observer = new IntersectionObserver(\r\n            ([entry]) => {\r\n                // Update our state when observer callback fires\r\n                setIntersecting(entry.isIntersecting);\r\n            },\r\n            {\r\n                rootMargin,\r\n            }\r\n        );\r\n        if (ref.current) {\r\n            observer.observe(ref.current);\r\n        }\r\n        return () => {\r\n            if (ref.current) {\r\n                observer.unobserve(ref.current);\r\n            }\r\n        };\r\n    }, []); // Empty array ensures that effect is only run on mount and unmount\r\n    return isIntersecting;\r\n}\r\n\r\nexport default useOnScreen","import React, {useRef, useState} from 'react';\r\nimport styles from './LazyImage.module.css'\r\nimport useOnScreen from \"../../hooks/use-on-screen\";\r\nimport defaultImage from \"../../assets/images/default.png\"\r\n\r\ninterface LazyImageProps {\r\n    src: string,\r\n    alt: string,\r\n    onLoad?: Function,\r\n}\r\n\r\nconst LazyImage: React.FC<LazyImageProps> = React.memo(({src, alt='', onLoad=() => {}}) => {\r\n\r\n    const [isLoaded, setIsLoaded] = useState(false)\r\n    const [source, setSource] = useState(src)\r\n\r\n    const imageRef = useRef(null)\r\n    const containerRef = useRef(null)\r\n    const isVisible = useOnScreen(containerRef)\r\n\r\n    const onError = () => {\r\n        setSource(defaultImage)\r\n    }\r\n\r\n    return (\r\n        <div ref={containerRef} className={styles.container + (isLoaded ? ` ${styles.containerLoaded}` : '')}>\r\n            {(isVisible || isLoaded) && <img\r\n                ref={imageRef}\r\n                onError={onError}\r\n                onLoad={() => isVisible ? setIsLoaded(true) : null}\r\n                className={styles.image + (isLoaded ? ` ${styles.imageLoaded}` : '')}\r\n                src={source}\r\n                alt={alt}\r\n            />}\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default LazyImage;","export default \"data:image/png;base64,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\"","import React, {useState} from 'react';\r\nimport star from '../../../assets/images/star.png'\r\nimport LazyImage from \"../../LazyImage/LazyImage\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\ninterface FilmCardProps {\r\n    src: string\r\n    rating: number\r\n    lang: string\r\n    title: string\r\n    year: string\r\n    filmId: number\r\n    currentPage: number\r\n    genres: Array<string>\r\n}\r\n\r\nconst FilmCard: React.FC<FilmCardProps> = ({src, title, lang, rating, year, filmId, currentPage, genres}) => {\r\n\r\n    const [showInfo, setShowInfo] = useState(false)\r\n\r\n    const onMouseOver = () => {\r\n        setShowInfo(true)\r\n    }\r\n\r\n    const onMouseLeave = () => {\r\n        setShowInfo(false)\r\n    }\r\n\r\n    return (\r\n        <div onMouseOver={onMouseOver} onMouseLeave={onMouseLeave} className=\"film-card\">\r\n            <div className=\"film-card__main\">\r\n                <LazyImage src={'https://image.tmdb.org/t/p/original' + src} alt={title}/>\r\n                <div className={\"films-card__info\" + (showInfo ? ' show' : '')}>\r\n                    <div className=\"film-card__rating\">\r\n                        <img className=\"star\" src={star} alt=\"\"/>\r\n                        <span className=\"rating\">{rating}</span>\r\n                    </div>\r\n                    <span className=\"film-card__lang\">{genres.filter(g => g ? g : false).join(', ')}</span>\r\n                    <Link to={`/films/${currentPage}/${filmId}`} className=\"film-card__button\">More</Link>\r\n                </div>\r\n            </div>\r\n            <div className=\"film-card__footer\">\r\n                <h2 className=\"film-card__title\">{title}</h2>\r\n                <span className=\"film-card__year\">{year}</span>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FilmCard;","import axios from \"axios\";\r\nimport {GenreType} from \"../redux/film-list-reducer\";\r\n\r\nlet config = {\r\n    baseURL: 'https://api.themoviedb.org/3/',\r\n}\r\n\r\nexport const APIInstance = axios.create(config)\r\n\r\nexport const filmListAPI = {\r\n    getFilms: (pageNumber: number) => {\r\n        return APIInstance.get(\r\n            `discover/movie?api_key=e83980f968c65acc5fe3a21f25c2b408&language=en-US&sort_by=popularity.desc&page=${pageNumber}`).then(r => r.data)\r\n    },\r\n    getGenres: () => {\r\n        return APIInstance.get('/genre/movie/list?api_key=e83980f968c65acc5fe3a21f25c2b408').then(r => r.data)\r\n    }\r\n}","import {InferActionTypes} from \"./store\";\r\nimport {Dispatch} from \"redux\";\r\nimport {filmListAPI} from \"../api/film-list-api\";\r\n\r\nconst GET_FILMS_SUCCESS = 'GET_FILMS_SUCCESS'\r\nconst GET_GENRES_SUCCESS = 'GET_GENRES_SUCCESS'\r\nconst START_FETCHING = 'START_FETCHING'\r\nconst STOP_FETCHING = 'STOP_FETCHING'\r\n\r\ntype MovieType = {\r\n    adult: boolean,\r\n    backdrop_path: string,\r\n    genre_ids: Array<number>,\r\n    id: number,\r\n    original_language: string,\r\n    original_title: string,\r\n    overview: string,\r\n    popularity: number,\r\n    poster_path: string,\r\n    release_date: string,\r\n    title: string,\r\n    video: boolean,\r\n    vote_average: number,\r\n    vote_count: number,\r\n}\r\n\r\nexport type GenreType = {\r\n    id: number\r\n    name: string\r\n}\r\n\r\nconst initialState = {\r\n    total_results: 500 as null | number,\r\n    total_pages: 500 as null | number,\r\n    page: null as null | number,\r\n    results: [] as Array<MovieType>,\r\n    isFetching: false,\r\n    genres: [] as Array<GenreType>\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\nexport const filmListReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n    const {type, payload} = action\r\n    switch (type) {\r\n        case GET_FILMS_SUCCESS: {\r\n            return {...state, ...payload, genres: [...state.genres]}\r\n        }\r\n        case START_FETCHING: {\r\n            return {...state, isFetching: true}\r\n        }\r\n        case STOP_FETCHING: {\r\n            return {...state, isFetching: false}\r\n        }\r\n        case GET_GENRES_SUCCESS: {\r\n            if (payload !== null) {\r\n                return {...state, genres: [...(payload.genres as Array<GenreType>)]}\r\n            }\r\n            return state\r\n        }\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\r\n\r\ntype ActionsTypes = InferActionTypes<typeof actions>\r\n\r\nexport const actions = {\r\n    getFilmsSuccess: (payload: InitialStateType) => {\r\n        return {\r\n            type: GET_FILMS_SUCCESS,\r\n            payload\r\n        }\r\n    },\r\n    startFetching: () => {\r\n        return {\r\n            type: START_FETCHING,\r\n            payload: null\r\n        }\r\n    },\r\n    stopFetching: () => {\r\n        return {\r\n            type: STOP_FETCHING,\r\n            payload: null\r\n        }\r\n    },\r\n    getGenresSuccess: (payload: Array<GenreType>) => {\r\n        return {\r\n            type: GET_GENRES_SUCCESS,\r\n            payload: {\r\n                ...initialState,\r\n                genres:  [...payload]\r\n            } as InitialStateType\r\n        }\r\n    }\r\n}\r\n\r\nexport const getFilms = (pageNumber: number) => async (dispatch: Dispatch) => {\r\n    dispatch(actions.startFetching())\r\n    const response = await filmListAPI.getFilms(pageNumber)\r\n    dispatch(actions.getFilmsSuccess(response))\r\n    dispatch(actions.stopFetching())\r\n}\r\n\r\nexport const getGenres = () => async (dispatch: Dispatch) => {\r\n    dispatch(actions.startFetching())\r\n    const response = await filmListAPI.getGenres()\r\n    dispatch(actions.getGenresSuccess(response.genres))\r\n    dispatch(actions.stopFetching())\r\n}","\r\n\r\nexport const range = (from, to, step = 1) => {\r\n    let i = from;\r\n    const range = [];\r\n\r\n    while (i <= to) {\r\n        range.push(i);\r\n        i += step;\r\n    }\r\n\r\n    return range;\r\n}","import React from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport {range} from \"../../../utils/range\";\r\n\r\ninterface PaginationProps {\r\n    totalCount: number | null,\r\n    currentPage: number,\r\n    setCurrentPage: Function,\r\n    pageNeighbours: number\r\n}\r\n\r\nconst Pagination: React.FC<PaginationProps> = ({totalCount, currentPage, setCurrentPage, pageNeighbours}) => {\r\n\r\n    const LEFT_PAGE = 'LEFT';\r\n    const RIGHT_PAGE = 'RIGHT';\r\n\r\n    let pagesCount = totalCount ? Math.ceil(totalCount / 20) : 0\r\n\r\n    let neighbours = Math.max(0, Math.min(pageNeighbours, 2))\r\n    const totalNumbers = (neighbours * 2) + 3;\r\n    const totalBlocks = totalNumbers + 2;\r\n    let pagesNumbers = range(1, pagesCount)\r\n    let pages: any = []\r\n    if (pagesCount > totalBlocks) {\r\n        const startPage = Math.max(2, currentPage - pageNeighbours)\r\n        const endPage = Math.min(pagesCount - 1, currentPage + pageNeighbours)\r\n        pages = range(startPage, endPage)\r\n        const hasLeftSpill = startPage > 2\r\n        const hasRightSpill = (pagesCount - endPage) > 1\r\n        const spillOffset = totalNumbers - (pages.length + 1)\r\n        switch (true) {\r\n            // handle: (1) < {5 6} [7] {8 9} (10)\r\n            case (hasLeftSpill && !hasRightSpill): {\r\n                const extraPages = range(startPage - spillOffset, startPage - 1)\r\n                pages = [LEFT_PAGE, ...extraPages, ...pages]\r\n                break\r\n            }\r\n\r\n            // handle: (1) {2 3} [4] {5 6} > (10)\r\n            case (!hasLeftSpill && hasRightSpill): {\r\n                const extraPages = range(endPage + 1, endPage + spillOffset)\r\n                pages = [...pages, ...extraPages, RIGHT_PAGE]\r\n                break\r\n            }\r\n\r\n            // handle: (1) < {4 5} [6] {7 8} > (10)\r\n            case (hasLeftSpill && hasRightSpill):\r\n            default: {\r\n                pages = [LEFT_PAGE, ...pages, RIGHT_PAGE]\r\n                break\r\n            }\r\n        }\r\n        pagesNumbers = [1, ...pages, pagesCount]\r\n    }\r\n\r\n    return (\r\n        <div className=\"pagination\">\r\n            <ul className=\"pagination__list\">\r\n                {pagesNumbers.map((page: string | number, index: number) => {\r\n                    if (page === LEFT_PAGE) return '...';\r\n                    if (page === RIGHT_PAGE) return '...'\r\n                    return (\r\n                        <li key={index} onClick={() => setCurrentPage(page)}\r\n                            className={\"pagination__item\" + (currentPage === page ? ' selected' : '')}>\r\n                            <Link to={'/films'} className=\"pagination__link\">\r\n                                {page}\r\n                            </Link>\r\n                        </li>\r\n                    );\r\n                })}\r\n            </ul>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Pagination","import React from \"react\";\r\n\r\n\r\nconst Loader = React.memo(() => {\r\n    return(\r\n        <div className={\"loader\"}>\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default Loader","import Header from \"../Header/Header\";\r\nimport MainContainer from \"../MainContainer/MainContainer\";\r\nimport FilmCard from \"./FilmCard/FilmCard\";\r\nimport {useEffect, useState} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getFilms, getGenres} from \"../../redux/film-list-reducer\";\r\nimport {AppStateType} from \"../../redux/store\";\r\nimport Pagination from \"./Pagination/Pagination\";\r\nimport Loader from \"../Loader/Loader\";\r\n\r\nconst FilmList = () => {\r\n\r\n    const data = useSelector((state: AppStateType) => state.filmList)\r\n\r\n    const films = data.results\r\n\r\n    const [currentPage, setCurrentPage] = useState(1)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        dispatch(getGenres())\r\n        dispatch(getFilms(currentPage))\r\n    }, [currentPage])\r\n\r\n    return (\r\n        <div>\r\n            <Header>\r\n                <nav className=\"nav\">\r\n                    <Pagination\r\n                        totalCount={data.total_results}\r\n                        currentPage={currentPage}\r\n                        setCurrentPage={setCurrentPage}\r\n                        pageNeighbours={1}\r\n                    />\r\n                </nav>\r\n            </Header>\r\n            <MainContainer>\r\n                {data.isFetching && data.genres.length !== 0 ?\r\n                    <Loader/>\r\n                    :\r\n                    <div className=\"films-container\">\r\n                        {films.map(film => {\r\n                            return (\r\n                                <FilmCard\r\n                                    key={film.id}\r\n                                    src={film.poster_path}\r\n                                    rating={film.vote_average}\r\n                                    lang={film.original_language}\r\n                                    title={film.title}\r\n                                    year={film.release_date}\r\n                                    filmId={film.id}\r\n                                    currentPage={currentPage}\r\n                                    genres={data.genres.map(genre => {\r\n                                        if (film.genre_ids.includes(genre.id)) {\r\n                                            return genre.name\r\n                                        }\r\n                                        return ''\r\n                                    })}\r\n                                />\r\n                            )\r\n                        })}\r\n                    </div>\r\n                }\r\n            </MainContainer>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FilmList;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAM1BMVEUAAAD///////////////////////////////////////////////////////////////+3leKCAAAAEHRSTlMAQJ+/338g788wEJCAcF9QOBFk1wAAAHpJREFUKM+dkOEOhSAIhVUIlbp13v9p78K2SmxrfX/czjcQCN+QQmNRMBYzWEb59JijjvINSPGGNsFw0Np+BqUrlIFpN4Si4cYvm1F2W9Q2jzDmziwtESu9ImB7I0pXAhxNqxees4UnYQ3vz6qRgM20I0c7QJ/SouELf9pyBwdxoI4aAAAAAElFTkSuQmCC\"","import React from 'react';\r\n\r\ninterface CommentProps {\r\n    author: string,\r\n    date: string,\r\n    text: string\r\n}\r\n\r\nconst Comment: React.FC<CommentProps> = ({author, date, text}) => {\r\n    return (\r\n        <li className=\"comments__item\">\r\n            <div className=\"comments__item-head\">\r\n                <span className=\"comments__author\">{author} | </span>\r\n                <span className=\"comments__date\">{date}</span>\r\n            </div>\r\n            <div className=\"comments__item-text\">\r\n                {text}\r\n            </div>\r\n        </li>\r\n    );\r\n};\r\n\r\nexport default Comment;","import React, {ChangeEvent, useState} from 'react';\r\nimport Comment from \"./Comment/Comment\";\r\nimport backImg from \"../../../assets/images/back.png\"\r\n\r\ntype CommentType = {\r\n    author: string\r\n    date: string\r\n    text: string\r\n    id: number\r\n}\r\n\r\ninterface CommentsProps {\r\n    filmId: number\r\n}\r\n\r\nconst Comments:React.FC<CommentsProps> = ({filmId}) => {\r\n\r\n    let commentsJSON = localStorage.getItem(`film_comments_${filmId}`)\r\n\r\n    let comments = [] as Array<CommentType>\r\n\r\n    comments.sort((a, b) => a.id > b.id ? 1 : a.id < b.id ? -1 : 0)\r\n\r\n    if (commentsJSON){\r\n        comments = JSON.parse(localStorage.getItem(`film_comments_${filmId}`) as string) as Array<CommentType>\r\n    }\r\n\r\n    const [value, setValue] = useState('')\r\n\r\n    const [commentsState, setCommentsState] = useState(comments)\r\n\r\n    const onSubmit = (e:React.SyntheticEvent) => {\r\n        e.preventDefault()\r\n        let newComment = {\r\n            id: comments[comments.length - 1] ? comments[comments.length - 1].id + 1 : 1,\r\n            author: 'You',\r\n            date: new Date(Date.now()).toString(),\r\n            text: value\r\n        }\r\n        comments.push(newComment)\r\n        localStorage.setItem(`film_comments_${filmId}`, JSON.stringify(comments))\r\n        setCommentsState(prev => [...prev, newComment])\r\n        setValue('')\r\n    }\r\n    const onChange = (e:ChangeEvent<HTMLTextAreaElement>) => {\r\n        setValue(e.target.value)\r\n    }\r\n\r\n    return (\r\n        <div className=\"comments\">\r\n            <ul className=\"comments__list\">\r\n                {commentsState.sort((a, b) => a.id < b.id ? 1 : a.id > b.id ? -1 : 0).map(comment => {\r\n                    return(\r\n                        <Comment\r\n                            key={comment.id}\r\n                            author={comment.author}\r\n                            date={comment.date}\r\n                            text={comment.text}\r\n                        />\r\n                    )\r\n                })}\r\n            </ul>\r\n            <form onSubmit={onSubmit} className=\"comments__form\">\r\n                <div className=\"form__field\">\r\n                                <textarea onChange={onChange} value={value} className=\"comment-area\" name=\"comment-area\" cols={30} rows={10}\r\n                                          placeholder=\"Leave a comment\"/>\r\n                    <button style={{border: 'none'}} className=\"back-button\">\r\n                        <img src={backImg} alt=\"\"/>\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Comments;","import React, {useEffect} from 'react';\r\nimport Header from \"../Header/Header\";\r\nimport backImg from \"../../assets/images/back.png\"\r\nimport starImg from \"../../assets/images/star.png\"\r\nimport LazyImage from \"../LazyImage/LazyImage\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/store\";\r\nimport {useParams} from \"react-router-dom\"\r\nimport Comments from \"./Comments/Comments\";\r\nimport MainContainer from \"../MainContainer/MainContainer\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {getFilms, getGenres} from \"../../redux/film-list-reducer\";\r\nimport Loader from \"../Loader/Loader\";\r\n\r\ninterface ParamsType {\r\n    filmId: string\r\n    currentPage: string\r\n}\r\n\r\nconst FilmDetail = () => {\r\n\r\n    let {filmId, currentPage} = useParams<ParamsType>()\r\n\r\n    let data = useSelector((state:AppStateType) => state.filmList)\r\n\r\n    let film = data.results.filter(film => film.id === parseInt(filmId))\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        dispatch(getGenres())\r\n        dispatch(getFilms(parseInt(currentPage)))\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            <Header>\r\n                <nav className=\"nav\">\r\n                    <Link to={'/films'} className=\"back-button\">\r\n                        <img src={backImg} alt=\"\"/>\r\n                    </Link>\r\n                </nav>\r\n            </Header>\r\n            <MainContainer>\r\n                {data.isFetching || film[0] === undefined ?\r\n                    <Loader/>\r\n                    :\r\n                    <div className=\"film-block\">\r\n                        <div className=\"film__image\">\r\n                            <div className=\"film__rating\">\r\n                                <img className=\"star\" src={starImg} alt=\"\"/>\r\n                                <span className=\"rating\">{film[0].vote_average}</span>\r\n                            </div>\r\n                            <LazyImage src={'https://image.tmdb.org/t/p/original' + film[0].poster_path} alt=\"\"/>\r\n                        </div>\r\n                        <div className=\"film__main\">\r\n                            <h1 className=\"film__title\">{film[0].title}</h1>\r\n                            <p className=\"film__year\">{film[0].release_date}</p>\r\n                            <ul className=\"film__genres-list\">\r\n                                {data.genres.map(genre => {\r\n                                        if (film[0].genre_ids.includes(genre.id)) {\r\n                                            return <li key={genre.id} className=\"film__genres-item\">{genre.name}</li>\r\n                                        }\r\n                                        return ''\r\n                                    })}\r\n                            </ul>\r\n                            <h2 className=\"film__subtitle\">Synopsis</h2>\r\n                            <p className=\"film__description\">{film[0].overview}</p>\r\n                            <h2 className=\"film__subtitle\">Comments</h2>\r\n                            <Comments filmId={parseInt(filmId)}/>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </MainContainer>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FilmDetail;","import './App.css';\nimport {BrowserRouter, Switch, Route, Redirect, HashRouter} from \"react-router-dom\";\nimport FilmList from \"./Components/FilmList/FilmList\";\nimport FilmDetail from \"./Components/FilmDetail/FilmDetail\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n        <HashRouter>\n            <Switch>\n                <Route exact path={'/films'} component={FilmList}/>\n                <Route exact path={'/films/:currentPage/:filmId'} component={FilmDetail}/>\n                <Route path={''}>\n                    <Redirect to={'/films'}/>\n                </Route>\n            </Switch>\n        </HashRouter>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport {filmListReducer} from \"./film-list-reducer\";\r\n\r\n\r\nlet rootReducer = combineReducers({\r\n    filmList: filmListReducer\r\n})\r\n\r\ntype RootReducerType = typeof rootReducer\r\nexport type AppStateType = ReturnType<RootReducerType>\r\n\r\ndeclare global {\r\n    interface Window {\r\n        __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: typeof compose;\r\n    }\r\n}\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\n\r\nlet store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleware)))\r\n\r\n// @ts-ignore\r\nwindow.__store__ = store\r\n\r\ntype PropertiesTypes<T> = T extends {[key: string]: infer U} ? U : never\r\nexport type InferActionTypes<T extends {[key: string]: (...args: any[]) => any }> = ReturnType<PropertiesTypes<T>>\r\n\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {Provider} from \"react-redux\";\nimport store from \"./redux/store\";\n\nReactDOM.render(\n    <Provider store={store}>\n        <App/>\n    </Provider>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}